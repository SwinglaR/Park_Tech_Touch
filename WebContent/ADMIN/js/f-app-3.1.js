/*
 *  Document   : app.js
 *  Author     : pixelcave
 */
var App=function(){var e=function(){t(),o(),a();var e=$("#year-copy"),i=new Date;e.html(2014===i.getFullYear()?"2014":"2014-"+i.getFullYear().toString().substr(2,2)),$('[data-toggle="tabs"] a, .enable-tabs a').click(function(e){e.preventDefault(),$(this).tab("show")}),$('[data-toggle="tooltip"], .enable-tooltip').tooltip({container:"body",animation:!1}),$('[data-toggle="popover"], .enable-popover').popover({container:"body",animation:!0}),$('[data-toggle="lightbox-image"]').magnificPopup({type:"image",image:{titleSrc:"title"}}),$('[data-toggle="lightbox-gallery"]').each(function(){$(this).magnificPopup({delegate:"a.gallery-link",type:"image",gallery:{enabled:!0,navigateByImgClick:!0,arrowMarkup:'<button type="button" class="mfp-arrow mfp-arrow-%dir%" title="%title%"></button>',tPrev:"Previous",tNext:"Next",tCounter:'<span class="mfp-counter">%curr% of %total%</span>'},image:{titleSrc:"title"}})}),$("input, textarea").placeholder(),$('[data-toggle="animation-appear"]').each(function(){var e=$(this),t=e.data("animation-class"),o=e.data("element-offset");e.appear(function(){e.removeClass("visibility-none").addClass(t)},{accY:o})}),$('[data-toggle="countTo"]').each(function(){var e=$(this);e.appear(function(){e.countTo({speed:1500,refreshInterval:20,onComplete:function(){e.data("after")&&e.html(e.html()+e.data("after"))}})})}),$(".js-video-bg").videoBG({mp4:"img/placeholders/videos/placeholder_video.mp4",ogv:"img/placeholders/videos/placeholder_video.ogv",webm:"img/placeholders/videos/placeholder_video.webm",poster:"img/placeholders/videos/placeholder_video.jpg",scale:!0,zIndex:0}),$(".store-menu .submenu").on("click",function(){$(this).parent("li").toggleClass("open")})},t=function(){var e=$("header");$(window).scroll(function(){$(this).scrollTop()>e.outerHeight()?e.addClass("header-scroll"):e.removeClass("header-scroll")})},o=function(){var e=$(".site-nav");$(".site-menu-toggle").on("click",function(){e.toggleClass("site-nav-visible")}),e.on("mouseleave",function(){$(this).removeClass("site-nav-visible")})},a=function(){var e=$("#to-top"),t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;$(window).scroll(function(){$(this).scrollTop()>150&&t>991?e.fadeIn(100):e.fadeOut(100)}),e.click(function(){return $("html, body").animate({scrollTop:0},500),!1})};return{init:function(){e()}}}();$(function(){App.init()});